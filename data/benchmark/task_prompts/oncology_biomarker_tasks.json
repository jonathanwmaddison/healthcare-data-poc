{
  "category": "oncology_biomarker",
  "description": "Tasks requiring understanding of oncology pathology, biomarker testing, and molecular diagnostics to identify treatment-eligible patients",
  "tasks": [
    {
      "task_id": "HDH-ONC-001",
      "category": "oncology_biomarker",
      "difficulty": "medium",
      "title": "Find HER2-Positive Breast Cancer Patients",
      "description": "Identify all patients with breast cancer (ICD-10 C50.x) who have HER2-positive biomarker results. HER2 status is determined by IHC (LOINC 18474-7) with result 3+ or FISH (LOINC 32996-3) with result 'positive'. These patients may be eligible for targeted therapy.",
      "systems_required": [
        "ehr",
        "lis"
      ],
      "max_turns": 20,
      "success_criteria": {
        "type": "f1_score",
        "target_field": "her2_positive_patients",
        "threshold": 0.85
      },
      "grading": {
        "weight": 0.06,
        "sub_goals": [
          {
            "id": "found_breast_cancer",
            "description": "Found breast cancer patients",
            "points": 0.3
          },
          {
            "id": "found_her2_tests",
            "description": "Retrieved HER2 test results",
            "points": 0.3
          },
          {
            "id": "matched_patients",
            "description": "Matched patients across systems",
            "points": 0.2
          },
          {
            "id": "identified_positive",
            "description": "Correctly identified HER2+ patients",
            "points": 0.2
          }
        ]
      },
      "expected_response": {
        "breast_cancer_patients": "integer",
        "patients_with_her2_testing": "integer",
        "her2_positive_patients": [
          {
            "ehr_id": "string",
            "lis_id": "string",
            "diagnosis_code": "string",
            "her2_result": "string (3+, positive, amplified)",
            "test_date": "string",
            "test_type": "IHC|FISH"
          }
        ],
        "her2_positive_count": "integer",
        "positivity_rate": "float"
      }
    },
    {
      "task_id": "HDH-ONC-002",
      "category": "oncology_biomarker",
      "difficulty": "hard",
      "title": "EGFR Mutation Lung Cancer Cohort",
      "description": "Build a cohort of non-small cell lung cancer (NSCLC) patients with EGFR mutations. NSCLC is coded as ICD-10 C34.x. EGFR mutations are detected via molecular testing (LOINC 21659-7). Look for specific mutations like exon 19 deletion or L858R in the test comments/notes.",
      "systems_required": [
        "ehr",
        "lis"
      ],
      "max_turns": 25,
      "success_criteria": {
        "type": "f1_score",
        "target_field": "egfr_mutation_patients",
        "threshold": 0.75
      },
      "grading": {
        "weight": 0.07,
        "sub_goals": [
          {
            "id": "found_nsclc",
            "description": "Found NSCLC patients",
            "points": 0.25
          },
          {
            "id": "found_egfr_tests",
            "description": "Found EGFR test results",
            "points": 0.25
          },
          {
            "id": "parsed_mutations",
            "description": "Extracted mutation types from notes",
            "points": 0.3
          },
          {
            "id": "built_cohort",
            "description": "Built correct mutation-positive cohort",
            "points": 0.2
          }
        ]
      },
      "expected_response": {
        "nsclc_patients": "integer",
        "patients_with_egfr_testing": "integer",
        "egfr_mutation_positive": [
          {
            "ehr_id": "string",
            "lis_id": "string",
            "mutation_type": "string (exon 19 del, L858R, T790M, etc.)",
            "test_date": "string",
            "report_text": "string (relevant excerpt)"
          }
        ],
        "mutation_distribution": {
          "exon_19_deletion": "integer",
          "L858R": "integer",
          "T790M": "integer",
          "other": "integer"
        }
      }
    },
    {
      "task_id": "HDH-ONC-003",
      "category": "oncology_biomarker",
      "difficulty": "hard",
      "title": "PD-L1 Expression for Immunotherapy",
      "description": "Find cancer patients who may be eligible for immunotherapy based on PD-L1 expression. PD-L1 is tested via IHC (LOINC 85147-9). Eligibility varies by cancer type: >=50% TPS for first-line NSCLC, >=1% for second-line. Extract TPS percentage from test results.",
      "systems_required": [
        "ehr",
        "lis"
      ],
      "max_turns": 25,
      "success_criteria": {
        "type": "threshold",
        "target_field": "eligibility_accuracy",
        "threshold": 0.8
      },
      "grading": {
        "weight": 0.07,
        "sub_goals": [
          {
            "id": "found_cancer_patients",
            "description": "Found relevant cancer patients",
            "points": 0.2
          },
          {
            "id": "found_pdl1_tests",
            "description": "Found PD-L1 test results",
            "points": 0.25
          },
          {
            "id": "extracted_tps",
            "description": "Extracted TPS percentages",
            "points": 0.3
          },
          {
            "id": "determined_eligibility",
            "description": "Correctly determined eligibility",
            "points": 0.25
          }
        ]
      },
      "expected_response": {
        "cancer_patients_tested": "integer",
        "pdl1_results": [
          {
            "patient_ehr_id": "string",
            "cancer_type": "string",
            "tps_percentage": "integer",
            "first_line_eligible": "boolean",
            "second_line_eligible": "boolean"
          }
        ],
        "first_line_eligible_count": "integer",
        "second_line_only_eligible_count": "integer"
      }
    },
    {
      "task_id": "HDH-ONC-004",
      "category": "oncology_biomarker",
      "difficulty": "expert",
      "title": "Comprehensive Biomarker Panel Review",
      "description": "For all lung cancer patients, compile a comprehensive biomarker summary including EGFR, ALK, ROS1, BRAF, PD-L1, and KRAS status. Data may be spread across multiple tests and time points. Create a unified view showing all tested biomarkers and their results.",
      "systems_required": [
        "ehr",
        "lis"
      ],
      "max_turns": 35,
      "success_criteria": {
        "type": "threshold",
        "target_field": "panel_completeness",
        "threshold": 0.7
      },
      "grading": {
        "weight": 0.08,
        "sub_goals": [
          {
            "id": "found_lung_cancer",
            "description": "Found all lung cancer patients",
            "points": 0.15
          },
          {
            "id": "found_all_tests",
            "description": "Found all biomarker tests",
            "points": 0.25
          },
          {
            "id": "unified_view",
            "description": "Created unified patient view",
            "points": 0.35
          },
          {
            "id": "identified_gaps",
            "description": "Identified missing tests",
            "points": 0.25
          }
        ]
      },
      "expected_response": {
        "lung_cancer_patients": "integer",
        "biomarker_summary": [
          {
            "patient_ehr_id": "string",
            "patient_lis_id": "string",
            "diagnosis": "string",
            "biomarkers": {
              "EGFR": {
                "status": "positive|negative|not_tested",
                "mutation": "string or null"
              },
              "ALK": {
                "status": "positive|negative|not_tested"
              },
              "ROS1": {
                "status": "positive|negative|not_tested"
              },
              "BRAF": {
                "status": "positive|negative|not_tested",
                "mutation": "string or null"
              },
              "PD_L1": {
                "status": "tested|not_tested",
                "tps": "integer or null"
              },
              "KRAS": {
                "status": "positive|negative|not_tested",
                "mutation": "string or null"
              }
            },
            "recommended_therapy": "string based on biomarkers"
          }
        ],
        "testing_gaps": {
          "no_biomarker_testing": "integer",
          "incomplete_panel": "integer"
        }
      }
    },
    {
      "task_id": "HDH-ONC-005",
      "category": "oncology_biomarker",
      "difficulty": "expert",
      "title": "Pathology Report Data Extraction",
      "description": "Pathology reports contain critical structured and unstructured data. Extract tumor characteristics from pathology DocumentReferences: tumor grade (well/moderate/poorly differentiated), tumor size, lymph node involvement, margin status, and any molecular findings mentioned in the narrative.",
      "systems_required": [
        "ehr",
        "lis"
      ],
      "max_turns": 30,
      "success_criteria": {
        "type": "f1_score",
        "target_field": "extracted_features",
        "threshold": 0.65
      },
      "grading": {
        "weight": 0.07,
        "sub_goals": [
          {
            "id": "found_pathology",
            "description": "Found pathology reports",
            "points": 0.2
          },
          {
            "id": "extracted_grade",
            "description": "Extracted tumor grade",
            "points": 0.2
          },
          {
            "id": "extracted_stage",
            "description": "Extracted staging info",
            "points": 0.2
          },
          {
            "id": "extracted_margins",
            "description": "Extracted margin status",
            "points": 0.2
          },
          {
            "id": "extracted_molecular",
            "description": "Extracted molecular findings",
            "points": 0.2
          }
        ]
      },
      "expected_response": {
        "pathology_reports_analyzed": "integer",
        "extracted_data": [
          {
            "report_id": "string",
            "patient_id": "string",
            "cancer_type": "string",
            "tumor_grade": "well|moderate|poorly differentiated",
            "tumor_size_cm": "number or null",
            "lymph_nodes_positive": "integer or null",
            "lymph_nodes_examined": "integer or null",
            "margin_status": "positive|negative|close",
            "molecular_findings": [
              "list of biomarkers/mutations mentioned"
            ],
            "stage": "string or null"
          }
        ]
      }
    }
  ]
}