{
  "category": "unstructured_data",
  "description": "Tasks requiring extraction and understanding of unstructured clinical text (notes, documents, free-text fields)",
  "tasks": [
    {
      "task_id": "HDH-UNS-001",
      "category": "unstructured_data",
      "difficulty": "medium",
      "title": "Extract Diagnoses from Clinical Notes",
      "description": "Clinical notes in the EHR contain diagnoses mentioned in free text that may not be coded. Find DocumentReference resources and extract any diagnoses mentioned in the text content. Compare with coded Conditions to find uncoded diagnoses.",
      "systems_required": ["ehr"],
      "max_turns": 20,
      "success_criteria": {
        "type": "f1_score",
        "target_field": "extracted_diagnoses",
        "threshold": 0.7
      },
      "grading": {
        "weight": 0.05,
        "sub_goals": [
          {"id": "found_documents", "description": "Located clinical documents", "points": 0.3},
          {"id": "extracted_text", "description": "Extracted text content", "points": 0.3},
          {"id": "identified_diagnoses", "description": "Identified diagnosis mentions", "points": 0.4}
        ]
      },
      "expected_response": {
        "documents_analyzed": "integer",
        "diagnoses_found": [
          {
            "document_id": "string",
            "text_mention": "string",
            "suggested_icd10": "string or null",
            "already_coded": "boolean"
          }
        ],
        "uncoded_diagnoses_count": "integer"
      }
    },
    {
      "task_id": "HDH-UNS-002",
      "category": "unstructured_data",
      "difficulty": "medium",
      "title": "Parse Medication Instructions",
      "description": "MedicationRequest resources have dosageInstruction with free-text 'text' fields like 'Take 1 tablet by mouth twice daily with food'. Parse these to extract structured dosing information (dose, route, frequency, timing).",
      "systems_required": ["pharmacy"],
      "max_turns": 15,
      "success_criteria": {
        "type": "threshold",
        "target_field": "parsing_accuracy",
        "threshold": 0.8
      },
      "grading": {
        "weight": 0.04,
        "sub_goals": [
          {"id": "found_instructions", "description": "Found dosage instructions", "points": 0.3},
          {"id": "parsed_dose", "description": "Extracted dose amount", "points": 0.25},
          {"id": "parsed_frequency", "description": "Extracted frequency", "points": 0.25},
          {"id": "parsed_route", "description": "Extracted route", "points": 0.2}
        ]
      },
      "expected_response": {
        "medications_analyzed": "integer",
        "parsed_instructions": [
          {
            "medication_id": "string",
            "original_text": "string",
            "parsed": {
              "dose_value": "number",
              "dose_unit": "string",
              "route": "string",
              "frequency": "string",
              "timing": "string or null"
            }
          }
        ],
        "parsing_success_rate": "float (0-1)"
      }
    },
    {
      "task_id": "HDH-UNS-003",
      "category": "unstructured_data",
      "difficulty": "hard",
      "title": "Reconcile Free-Text Allergies",
      "description": "AllergyIntolerance resources may have allergies recorded as free text (e.g., 'Patient reports penicillin allergy - rash') or coded (RxNorm/SNOMED). Find all allergies and normalize them to identify duplicates and conflicts.",
      "systems_required": ["ehr", "pharmacy"],
      "max_turns": 25,
      "success_criteria": {
        "type": "threshold",
        "target_field": "reconciliation_accuracy",
        "threshold": 0.75
      },
      "grading": {
        "weight": 0.06,
        "sub_goals": [
          {"id": "found_allergies", "description": "Found all allergy records", "points": 0.25},
          {"id": "normalized", "description": "Normalized free text to codes", "points": 0.35},
          {"id": "found_duplicates", "description": "Identified duplicate allergies", "points": 0.2},
          {"id": "found_conflicts", "description": "Identified conflicting records", "points": 0.2}
        ]
      },
      "expected_response": {
        "total_allergy_records": "integer",
        "coded_allergies": "integer",
        "freetext_allergies": "integer",
        "normalized_allergies": [
          {
            "allergen": "string (normalized name)",
            "records": ["list of allergy record IDs"],
            "systems": ["list of source systems"],
            "is_duplicate": "boolean",
            "conflict": "string or null"
          }
        ],
        "duplicate_count": "integer",
        "conflict_count": "integer"
      }
    },
    {
      "task_id": "HDH-UNS-004",
      "category": "unstructured_data",
      "difficulty": "hard",
      "title": "Extract Lab Comments",
      "description": "Lab Observation resources often have interpretive comments in the 'note' field (e.g., 'Critical value - physician notified', 'Hemolyzed specimen - results may be affected'). Extract and categorize these comments to identify critical values and quality issues.",
      "systems_required": ["lis"],
      "max_turns": 20,
      "success_criteria": {
        "type": "threshold",
        "target_field": "extraction_recall",
        "threshold": 0.8
      },
      "grading": {
        "weight": 0.05,
        "sub_goals": [
          {"id": "found_comments", "description": "Found observations with comments", "points": 0.3},
          {"id": "categorized", "description": "Categorized comment types", "points": 0.35},
          {"id": "critical_values", "description": "Identified critical value alerts", "points": 0.35}
        ]
      },
      "expected_response": {
        "observations_with_comments": "integer",
        "comment_categories": {
          "critical_value": "integer",
          "specimen_quality": "integer",
          "interpretation": "integer",
          "other": "integer"
        },
        "critical_value_alerts": [
          {
            "observation_id": "string",
            "test_name": "string",
            "value": "string",
            "comment": "string",
            "patient_id": "string"
          }
        ]
      }
    },
    {
      "task_id": "HDH-UNS-005",
      "category": "unstructured_data",
      "difficulty": "expert",
      "title": "Cross-System Note Reconciliation",
      "description": "The same clinical event may be documented differently across systems - a procedure note in EHR, a result comment in LIS, and a charge description in Billing. For a specific patient, find related documentation across systems and link them to the same clinical event.",
      "systems_required": ["ehr", "lis", "billing"],
      "max_turns": 35,
      "success_criteria": {
        "type": "f1_score",
        "target_field": "event_linking",
        "threshold": 0.6
      },
      "grading": {
        "weight": 0.07,
        "sub_goals": [
          {"id": "found_ehr_docs", "description": "Found EHR documentation", "points": 0.2},
          {"id": "found_lis_comments", "description": "Found LIS comments", "points": 0.2},
          {"id": "found_billing", "description": "Found billing descriptions", "points": 0.2},
          {"id": "linked_events", "description": "Linked related documents", "points": 0.4}
        ]
      },
      "expected_response": {
        "patient_queried": "string",
        "clinical_events": [
          {
            "event_date": "string",
            "event_type": "string",
            "linked_records": {
              "ehr_documents": ["list of document IDs"],
              "lis_observations": ["list of observation IDs"],
              "billing_claims": ["list of claim IDs"]
            },
            "description": "string (synthesized from all sources)"
          }
        ],
        "total_events_identified": "integer"
      }
    }
  ]
}
