{
  "category": "patient_matching",
  "description": "Tasks requiring identification and matching of patient records across systems",
  "tasks": [
    {
      "task_id": "HDH-MPI-001",
      "category": "patient_matching",
      "difficulty": "easy",
      "title": "Find Patient in Two Systems",
      "description": "Given patient ID MRN-100001 in the EHR system, find the same patient's ID in the LIS (Laboratory) system. The patient has the same demographics but a different ID format.",
      "systems_required": ["ehr", "lis"],
      "max_turns": 10,
      "success_criteria": {
        "type": "exact_match",
        "target_field": "lis_patient_id",
        "partial_credit": false
      },
      "grading": {
        "weight": 0.05,
        "sub_goals": [
          {"id": "fetch_ehr_patient", "description": "Retrieved patient from EHR", "points": 0.3},
          {"id": "extract_demographics", "description": "Extracted name/DOB", "points": 0.2},
          {"id": "search_lis", "description": "Searched LIS patients", "points": 0.2},
          {"id": "correct_match", "description": "Found correct match", "points": 0.3}
        ]
      },
      "expected_response": {
        "ehr_patient_id": "string",
        "lis_patient_id": "string",
        "matching_confidence": "high|medium|low",
        "matching_fields": ["array of fields used for matching"]
      },
      "ground_truth": {
        "ehr_patient_id": "MRN-100001",
        "lis_patient_id": "LAB-200001"
      },
      "hints": {
        "level_1": "Use patient demographics (name, date of birth) to match across systems",
        "level_2": "The LIS uses patient IDs starting with 'LAB-'",
        "level_3": "Try searching LIS patients by name extracted from the EHR patient"
      }
    },
    {
      "task_id": "HDH-MPI-002",
      "category": "patient_matching",
      "difficulty": "medium",
      "title": "Patient 360 View",
      "description": "Find all records for patient MRN-100042 across all 6 healthcare systems (EHR, LIS, RIS, Pharmacy, PAS, Billing). Return the patient ID used in each system.",
      "systems_required": ["ehr", "lis", "ris", "pharmacy", "pas", "billing"],
      "max_turns": 25,
      "success_criteria": {
        "type": "set_match",
        "target_field": "patient_ids",
        "partial_credit": true
      },
      "grading": {
        "weight": 0.08,
        "sub_goals": [
          {"id": "ehr_found", "description": "Found patient in EHR", "points": 0.15},
          {"id": "lis_found", "description": "Found patient in LIS", "points": 0.15},
          {"id": "ris_found", "description": "Found patient in RIS", "points": 0.15},
          {"id": "pharmacy_found", "description": "Found patient in Pharmacy", "points": 0.15},
          {"id": "pas_found", "description": "Found patient in PAS", "points": 0.15},
          {"id": "billing_found", "description": "Found patient in Billing", "points": 0.15},
          {"id": "all_correct", "description": "All IDs correct", "points": 0.10}
        ]
      },
      "expected_response": {
        "patient_ids": {
          "ehr": "string",
          "lis": "string",
          "ris": "string",
          "pharmacy": "string",
          "pas": "string",
          "billing": "string"
        },
        "demographics_used": {
          "name": "string",
          "birth_date": "string"
        }
      },
      "ground_truth": {
        "patient_ids": {
          "ehr": "MRN-100042",
          "lis": "LAB-200042",
          "ris": "RAD-300042",
          "pharmacy": "RX-400042",
          "pas": "ADT-500042",
          "billing": "ACCT-600042"
        }
      }
    },
    {
      "task_id": "HDH-MPI-003",
      "category": "patient_matching",
      "difficulty": "hard",
      "title": "Detect Duplicate Patients",
      "description": "Find patients in the EHR system that appear to be duplicates - the same real person registered multiple times with different MRNs. Return groups of patient IDs that likely represent the same person.",
      "systems_required": ["ehr"],
      "max_turns": 30,
      "success_criteria": {
        "type": "f1_score",
        "target_field": "duplicate_groups",
        "threshold": 0.5,
        "partial_credit": true
      },
      "grading": {
        "weight": 0.10,
        "sub_goals": [
          {"id": "fetch_patients", "description": "Retrieved patient list", "points": 0.2},
          {"id": "comparison_strategy", "description": "Developed comparison approach", "points": 0.2},
          {"id": "found_some_duplicates", "description": "Identified at least 5 duplicates", "points": 0.3},
          {"id": "high_precision", "description": "Low false positive rate", "points": 0.3}
        ]
      },
      "expected_response": {
        "duplicate_groups": [
          {
            "patient_ids": ["array of MRNs believed to be same person"],
            "confidence": "high|medium|low",
            "matching_evidence": {
              "name_similarity": "number 0-1",
              "dob_match": "boolean",
              "other_fields": ["list"]
            }
          }
        ],
        "total_duplicate_groups_found": "integer",
        "methodology": "string describing approach"
      },
      "ground_truth": {
        "duplicate_count_range": [40, 60],
        "sample_duplicates": ["See master_patient_index.json for full list"]
      }
    },
    {
      "task_id": "HDH-MPI-004",
      "category": "patient_matching",
      "difficulty": "hard",
      "title": "Cross-System Duplicate Detection",
      "description": "Find cases where the same patient appears to have duplicate records in DIFFERENT systems (not just duplicate MRNs within EHR). For example, a patient might have two different Pharmacy IDs that both belong to them.",
      "systems_required": ["ehr", "lis", "pharmacy", "billing"],
      "max_turns": 35,
      "success_criteria": {
        "type": "f1_score",
        "target_field": "cross_system_duplicates",
        "threshold": 0.4,
        "partial_credit": true
      },
      "grading": {
        "weight": 0.10
      },
      "expected_response": {
        "cross_system_duplicates": [
          {
            "canonical_patient": "primary patient identifier",
            "duplicate_records": [
              {"system": "string", "patient_id": "string"}
            ],
            "confidence": "high|medium|low"
          }
        ]
      }
    },
    {
      "task_id": "HDH-MPI-005",
      "category": "patient_matching",
      "difficulty": "expert",
      "title": "Probabilistic Patient Matching",
      "description": "Given a patient record with partial/fuzzy demographics (name: 'J. Smith', DOB: '1980-03-??', phone partially matching), find the most likely matching patient across all systems. Return match probabilities.",
      "systems_required": ["ehr", "lis", "pharmacy"],
      "max_turns": 30,
      "success_criteria": {
        "type": "threshold",
        "target_field": "top_match_correct",
        "threshold": 0.8
      },
      "grading": {
        "weight": 0.07
      },
      "expected_response": {
        "query_demographics": {
          "name": "J. Smith",
          "birth_date_partial": "1980-03",
          "phone_partial": "555-123"
        },
        "candidate_matches": [
          {
            "system": "string",
            "patient_id": "string",
            "match_probability": "number 0-1",
            "matching_fields": ["list"],
            "mismatching_fields": ["list"]
          }
        ],
        "recommended_match": {
          "patient_id": "string",
          "confidence": "number"
        }
      }
    }
  ]
}
